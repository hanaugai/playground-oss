receivers:
  otlpjsonfile:
    include:
      - /output/data.json
    start_at:  beginning

exporters:
  logging:

  prometheusremotewrite:
    endpoint: "http://prometheus:9090/api/v1/write"

processors:
  batch:

extensions:
  zpages:
    endpoint: "0.0.0.0:55679"
  health_check:
    endpoint: "0.0.0.0:13133"
  pprof:
    endpoint: "0.0.0.0:1777"

service:
  extensions: [health_check, pprof, zpages]
  pipelines:
    metrics:
      receivers: [otlpjsonfile]
      processors: [batch]
      exporters: [logging, prometheusremotewrite]
